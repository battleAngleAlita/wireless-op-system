(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"+zNu":function(e,a,t){e.exports={superAdmin:"superAdmin___3kqJR"}},KMrB:function(e,a,t){"use strict";t.r(a);t("+L6B");var n=t("2/Rp"),r=(t("5NDa"),t("5rEg")),s=(t("14J3"),t("BMrR")),l=t("d6i3"),i=t.n(l),c=t("1l/V"),p=t.n(c),o=(t("miYZ"),t("tsqr")),d=(t("Pwec"),t("CtXQ")),u=(t("OaEy"),t("2fM7")),m=(t("y8nQ"),t("Vl3Y")),h=(t("B9cy"),t("Ol7k")),v=t("q1tI"),g=t.n(v),b=t("/MKj"),f=t("LvDl"),E=t("Q4F3"),x=t("lG6i"),y=t("VCr4"),C=t("9/Jl"),w=t("+zNu"),A=t.n(w),L=t("LXeP"),N=t.n(L),M=h["a"].Content,k=m["a"].Item,_=u["a"].Option,S=d["a"].createFromIconfontCN({scriptUrl:x["a"]}),I=[{title:"\u5e8f\u53f7",dataIndex:"id",editable:!1},{title:"\u5730\u56fe\u540d\u79f0",dataIndex:"mapName",editable:!0},{title:"\u533a\u57df\u540d\u79f0",dataIndex:"regionName",editable:!0},{title:"\u533a\u57df\u7ea7\u522b",dataIndex:"regionalLevelName",editable:!0},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"operatTime",editable:!0},{title:"\u5907\u6ce8",dataIndex:"remark",editable:!0}];class j extends g.a.Component{constructor(e){super(e),this.setupAreaLevelSelect=(()=>{var e=this.props.areaLevels;return g.a.createElement(u["a"],{className:N.a.select_text,defaultValue:e[0].name,onSelect:this.onLevelSelectChange},e.map((e,a)=>g.a.createElement(_,{value:e.id,key:a},e.name)))}),this.onAreaInputChange=(e=>{this.setState({area:e.target.value})}),this.onLevelSelectChange=(e=>{this.setState({level:e})}),this.onSearch=(()=>{var e=this.state,a=e.area,t=e.level;this.getMapArea({regionName:a,regionalLevelId:t})}),this.onClear=(()=>{this.setState({level:"",area:""}),this.getMapArea()}),this.addMapArea=(()=>{o["a"].success("\u5f85\u5f00\u53d1...")}),this.getMapArea=this.getMapArea.bind(this),this.updateData=this.updateData.bind(this),this.deleteColumn=this.deleteColumn.bind(this),this.state={area:""}}getMapArea(){var e=this,a=arguments;return p()(i.a.mark(function t(){var n,r;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,Object(y["g"])(n);case 3:r=t.sent,e.props.dispatch({type:"mapManager/update",payload:{mapArea:r.result}});case 5:case"end":return t.stop()}},t)}))()}updateData(e,a){var t=this;return p()(i.a.mark(function n(){var r;return i.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(y["m"])(a);case 2:r=n.sent,r&&t.props.dispatch({type:"userManager/update",payload:{innerUserList:{records:e}}});case 4:case"end":return n.stop()}},n)}))()}deleteColumn(e){var a=this;return p()(i.a.mark(function t(){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["c"])({id:e.id});case 2:a.getMapArea();case 3:case"end":return t.stop()}},t)}))()}componentDidMount(){var e=this;return p()(i.a.mark(function a(){var t;return i.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.getMapArea(),a.next=3,Object(C["d"])();case 3:t=a.sent,e.props.dispatch({type:"commonState/update",payload:{allLevels:t.result}}),e.setState({level:e.props.areaLevels[0].id});case 6:case"end":return a.stop()}},a)}))()}render(){var e=this.props,a=e.mapArea,t=e.areaLevels;if(f["isEmpty"](a)||f["isEmpty"](t))return null;var l=a.records,i=a.total;return l=l.map(e=>{return f["assign"](e,{key:e.id})}),g.a.createElement("div",{className:N.a.public_hight},g.a.createElement(M,{className:N.a.bg},g.a.createElement("div",{className:A.a.public_hight_40},g.a.createElement(m["a"],{layout:"inline"},g.a.createElement(s["a"],{justify:"start",align:"middle",style:{paddingLeft:"39px"},gutter:16},g.a.createElement(k,{label:"\u533a\u57df"},g.a.createElement(r["a"],{className:N.a.input_text,placeholder:"\u8bf7\u8f93\u5165\u533a\u57df",value:this.state.area,onChange:this.onAreaInputChange})),g.a.createElement(k,{label:"\u7ea7\u522b"},g.a.createElement("div",{style:{marginTop:"-3px"}},this.setupAreaLevelSelect())),g.a.createElement("span",{className:N.a.button_type},g.a.createElement(n["a"],{className:N.a.form_btn,onClick:this.onSearch},"\u67e5\u8be2"),g.a.createElement(n["a"],{className:N.a.form_btn,style:{marginLeft:37},onClick:this.onClear},"\u6e05\u7a7a")),g.a.createElement("span",{className:["".concat(N.a.form_btns)].join(" ")},g.a.createElement("span",{className:["".concat(N.a.form_btn_add)].join("")},g.a.createElement(S,{type:"icon-plus",onClick:this.addMapArea})))))),g.a.createElement(E["a"],{columns:I,data:l,total:i,updateData:this.updateData,deleteColumn:this.deleteColumn})))}}var D=e=>{var a=e.mapManager,t=e.commonState,n=a.mapArea,r=t.allLevels;return{mapArea:n,areaLevels:r}};a["default"]=Object(b["c"])(D)(j)}}]);