(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"3lh4":function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),i=(a("5NDa"),a("5rEg")),s=(a("14J3"),a("BMrR")),l=a("d6i3"),r=a.n(l),o=a("1l/V"),c=a.n(o),d=(a("Pwec"),a("CtXQ")),p=(a("OaEy"),a("2fM7")),m=(a("y8nQ"),a("Vl3Y")),u=(a("B9cy"),a("Ol7k")),h=a("q1tI"),g=a.n(h),b=a("3a4m"),P=a.n(b),f=a("/MKj"),v=a("LvDl"),C=a("Q4F3"),x=a("lG6i"),y=a("VCr4"),E=a("0mgP"),w=a.n(E),N=a("LXeP"),I=a.n(N),k=u["a"].Content,_=m["a"].Item,j=(p["a"].Option,d["a"].createFromIconfontCN({scriptUrl:x["a"]})),D=[{title:"\u5730\u56fe\u540d\u79f0",dataIndex:"mapName",editable:!0},{title:"\u5de1\u68c0\u70b9\u540d\u79f0",dataIndex:"name",editable:!0},{title:"\u5de1\u68c0\u70b9\u4f4d\u7f6e",dataIndex:"address",editable:!0},{title:"x\u5750\u6807",dataIndex:"xCoordinate",editable:!0},{title:"y\u5750\u6807",dataIndex:"yCoordinate",editable:!0},{title:"\u5de1\u68c0\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime",editable:!0},{title:"\u5de1\u68c0\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime",editable:!0},{title:"\u5907\u6ce8",dataIndex:"remark",editable:!0}];class M extends g.a.Component{constructor(e){super(e),this.addPollingPoint=(()=>{P.a.push("/map-manager/polling-point/add")}),this.onInputNameChange=(e=>{this.setState({name:e.target.value})}),this.onSearch=(()=>{var e=this.state.name;this.getPollingPoints({name:e})}),this.onClear=(()=>{this.setState({name:""}),this.forceUpdate(()=>this.onSearch())}),this.getPollingPoints=this.getPollingPoints.bind(this),this.updateData=this.updateData.bind(this),this.deleteColumn=this.deleteColumn.bind(this),this.state={name:""}}getPollingPoints(){var e=this,t=arguments;return c()(r.a.mark(function a(){var n,i;return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,Object(y["j"])(n);case 3:i=a.sent,i&&e.props.dispatch({type:"mapManager/update",payload:{pollingPoints:i.result}});case 5:case"end":return a.stop()}},a)}))()}updateData(e,t){var a=this;return c()(r.a.mark(function n(){var i;return r.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(y["p"])(t);case 2:i=n.sent,i&&a.props.dispatch({type:"mapManager/update",payload:{pollingPoints:{records:e}}});case 4:case"end":return n.stop()}},n)}))()}deleteColumn(e){var t=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(y["f"])({id:e.id});case 2:t.getPollingPoints();case 3:case"end":return a.stop()}},a)}))()}componentDidMount(){this.getPollingPoints()}render(){var e=this.props.pollingPoints;if(v["isEmpty"](e))return null;var t=e.records,a=e.total;return t=t.map(e=>{return v["assign"](e,{key:e.id})}),g.a.createElement("div",{className:I.a.public_hight},g.a.createElement(k,{className:I.a.bg},g.a.createElement("div",{className:w.a.public_hight_40},g.a.createElement(m["a"],{layout:"inline"},g.a.createElement(s["a"],{justify:"start",align:"middle",style:{paddingLeft:"39px"},gutter:16},g.a.createElement(_,{label:"\u5de1\u68c0\u70b9\u540d\u79f0"},g.a.createElement(i["a"],{className:I.a.input_text,placeholder:"\u8bf7\u8f93\u5165\u5de1\u68c0\u70b9\u540d\u79f0",value:this.state.name,onChange:this.onInputNameChange})),g.a.createElement("span",{className:I.a.button_type},g.a.createElement(n["a"],{className:I.a.form_btn,onClick:this.onSearch},"\u67e5\u8be2"),g.a.createElement(n["a"],{className:I.a.form_btn,style:{marginLeft:37},onClick:this.onClear},"\u6e05\u7a7a")),g.a.createElement("span",{className:["".concat(I.a.form_btns)].join(" ")},g.a.createElement("span",{className:["".concat(I.a.form_btn_add)].join(""),onClick:this.addPollingPoint},g.a.createElement(j,{type:"icon-plus"})))))),g.a.createElement(C["a"],{columns:D,data:t,total:a,updateData:this.updateData,deleteColumn:this.deleteColumn})))}}var O=e=>{var t=e.mapManager,a=t.pollingPoints;return{pollingPoints:a}};t["default"]=Object(f["c"])(O)(M)}}]);