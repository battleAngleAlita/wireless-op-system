(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{f9Jf:function(e,a,t){"use strict";t.r(a);t("+L6B");var r=t("2/Rp"),l=(t("jCWc"),t("kPKH")),s=(t("14J3"),t("BMrR")),n=t("d6i3"),c=t.n(n),m=t("1l/V"),i=t.n(m),u=(t("miYZ"),t("tsqr")),p=(t("y8nQ"),t("Vl3Y")),o=(t("OaEy"),t("2fM7")),d=(t("5NDa"),t("5rEg")),E=t("q1tI"),h=t.n(E),y=t("/MKj"),b=t("LvDl"),f=t("3a4m"),v=t.n(f),g=t("+mDs"),w=t("gb+E"),x=t.n(w),I=o["a"].Option;class j extends h.a.Component{constructor(){super(...arguments),this.setupOptions=(()=>{var e=this.props.options;return e.map(e=>h.a.createElement(I,{value:e.key,key:e.key},e.value))})}render(){var e=this.setupOptions();return h.a.createElement(o["a"],{defaultValue:this.props.value,style:Object.assign({width:169},this.props.style),className:x.a.select_text},e)}}var D=t("3OPe"),S=t("9/Jl"),N=t("rfK7"),q=t("+wBO"),O=t.n(q),k=d["a"].TextArea,L=o["a"].Option;function T(e){return Object.keys(e).some(a=>e[a])}class _ extends h.a.Component{constructor(e){super(e),this.setupDuties=(()=>{var e=this.props.allDuties,a=this.props.form.getFieldDecorator;return h.a.createElement(p["a"].Item,{label:"\u804c\u52a1"},a("positionName",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u804c\u52a1"}],initialValue:e[0].name})(h.a.createElement(o["a"],{placeholder:"\u8bf7\u9009\u62e9\u804c\u52a1"},e.map((e,a)=>h.a.createElement(L,{value:e.name,key:a},e.name)))))}),this.setupAllSecretLevel=(()=>{var e=this.props.allSecretLevel,a=this.props.form.getFieldDecorator;return h.a.createElement(p["a"].Item,{label:"\u4fdd\u5bc6\u7b49\u7ea7"},a("securityLevelName",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4fdd\u5bc6\u7b49\u7ea7"}],initialValue:e[0].name})(h.a.createElement(o["a"],{placeholder:"\u8bf7\u9009\u62e9\u4fdd\u5bc6\u7b49\u7ea7"},e.map((e,a)=>h.a.createElement(L,{value:e.name,key:a},e.name)))))}),this.handleSubmit=this.handleSubmit.bind(this),this.state={userTypes:[]}}componentWillUnmount(){u["a"].destroy()}handleSubmit(e){e.preventDefault(),this.props.form.validateFields(function(){var e=i()(c.a.mark(function e(a,t){var r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(N["a"])(t);case 4:r=e.sent,r&&(u["a"].success("\u6dfb\u52a0\u6210\u529f!",1e3),setTimeout(()=>v.a.push("/info-card-manager/info-card-list"),1e3));case 6:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}())}componentDidMount(){var e=this;return i()(c.a.mark(function a(){var t,r,l;return c.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.props.form.validateFields(),a.next=3,Object(D["e"])();case 3:return t=a.sent,t=t.map(e=>({key:e.id,value:e.roleName,roleId:e.id})),e.setState({userTypes:t}),a.next=8,Object(S["b"])();case 8:return r=a.sent,a.next=11,Object(S["g"])();case 11:l=a.sent,e.props.dispatch({type:"commonState/update",payload:{allDuties:r.result.records,allSecretLevel:l.result.records}});case 13:case"end":return a.stop()}},a)}))()}render(){var e=this.props,a=this.props.form,t=a.getFieldDecorator,n=a.getFieldsError;return 0===this.state.userTypes.length?null:b["isEmpty"](e.allDuties)||b["isEmpty"](e.allSecretLevel)?null:h.a.createElement(g["a"],{className:O.a.auth_root},h.a.createElement(p["a"],{layout:"inline",labelAlign:"right",style:{marginTop:"0.57rem"},onSubmit:this.handleSubmit},h.a.createElement(s["a"],{type:"flex",justify:"center",align:"middle",className:O.a.add},h.a.createElement(l["a"],{span:12},h.a.createElement("div",{className:"auth__inner--container"},h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u59d3\u540d"},t("userName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"})))),h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u8eab\u4efd\u8bc1\u53f7"},t("cardNo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7"}))))),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u6027\u522b"},t("sex",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6027\u522b"}],initialValue:"\u7537"})(h.a.createElement(o["a"],{placeholder:"\u8bf7\u9009\u62e9\u6027\u522b"},h.a.createElement(L,{value:"0"},"\u7537"),h.a.createElement(L,{value:"1"},"\u5973"))))),h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u5bb6\u5ead\u4f4f\u5740"},t("address",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bb6\u5ead\u4f4f\u5740"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u5bb6\u5ead\u4f4f\u5740"}))))),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u8054\u7cfb\u65b9\u5f0f"},t("phone",{rules:[{required:!0,message:"\u8bf7\u9009\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f"})))),h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u90e8\u95e8"},t("departmentId",{rules:[{required:!0,message:"\u8bf7\u9009\u8f93\u5165\u90e8\u95e8"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u90e8\u95e8"}))))),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},this.setupDuties()),h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u4eba\u5458\u7c7b\u578b"},t("type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4eba\u5458\u7c7b\u578b"}],initialValue:this.state.userTypes[0].roleId||"\u7ba1\u7406\u5458"})(h.a.createElement(j,{options:this.state.userTypes,style:{width:"2rem"}}))))),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u5728\u804c\u72b6\u6001"},t("incumbency",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5728\u804c\u72b6\u6001"}],initialValue:"\u5728\u804c"})(h.a.createElement(o["a"],{placeholder:"\u8bf7\u9009\u62e9\u804c\u52a1"},h.a.createElement(L,{value:"0"},"\u5728\u804c"),h.a.createElement(L,{value:"1"},"\u79bb\u804c"))))),h.a.createElement(l["a"],{span:12},this.setupAllSecretLevel())),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u4fe1\u606f\u724c\u7f16\u53f7"},t("name",{rules:[{required:!0,message:"\u8bf7\u9009\u8f93\u5165\u4fe1\u606f\u724c\u7f16\u53f7"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u4fe1\u606f\u724c\u7f16\u53f7"})))),h.a.createElement(l["a"],{span:12},h.a.createElement(p["a"].Item,{label:"\u4fe1\u606f\u724cID"},t("id",{rules:[{required:!0,message:"\u8bf7\u9009\u8f93\u5165\u4fe1\u606f\u724cID"}]})(h.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165\u4fe1\u606f\u724cID"}))))),h.a.createElement(s["a"],{type:"flex",justify:"space-between"},h.a.createElement(l["a"],{span:24,className:"textarea"},h.a.createElement(p["a"].Item,{label:"\u5907\u6ce8"},t("note")(h.a.createElement(k,{autoSize:{minRows:6,maxRows:8}}))))),h.a.createElement(s["a"],{type:"flex",justify:"center",style:{marginTop:"0.35rem"}},h.a.createElement(l["a"],{span:6},h.a.createElement(p["a"].Item,{className:O.a.button_type},h.a.createElement(r["a"],{className:O.a.form_btn,disabled:T(n()),htmlType:"submit"},"\u786e\u8ba4"))),h.a.createElement(l["a"],{span:6,className:O.a.select_padding_left},h.a.createElement(p["a"].Item,null,h.a.createElement(r["a"],{className:O.a.form_btn},"\u8fd4\u56de")))))))))}}var V=p["a"].create({name:"add_user"})(_),F=e=>{e.userManager;var a=e.commonState,t=a.allDuties,r=a.allSecretLevel;return{allDuties:t,allSecretLevel:r}};a["default"]=Object(y["c"])(F)(V)}}]);