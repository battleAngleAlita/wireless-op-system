(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{dIO9:function(e,a,t){"use strict";t.r(a);t("jCWc");var n=t("kPKH"),s=(t("14J3"),t("BMrR")),r=(t("y8nQ"),t("Vl3Y")),l=t("d6i3"),m=t.n(l),i=t("1l/V"),c=t.n(i),o=(t("miYZ"),t("tsqr")),u=t("q1tI"),p=t.n(u),h=t("3a4m"),d=t.n(h),E=t("l36n"),f=t("/fhj"),y=t("XsEa"),g=t("+mDs"),b=t("3OPe"),w=t("JsPX"),v=t("ZQTb"),x=t.n(v),N=(t("50Y4"),[{key:"\u7537",value:"\u7537"},{key:"\u5973",value:"\u5973"}]);class I extends p.a.Component{constructor(e){super(e),this.onLoginNameChange=(e=>{this.props.form.setFieldsValue({loginName:e})}),this.onUserNameChange=(e=>{this.props.form.setFieldsValue({name:e})}),this.onTipsChange=(e=>{this.props.form.setFieldsValue({remark:e})}),this.handleSubmit=this.handleSubmit.bind(this),this.state={userTypes:[]}}componentWillUnmount(){o["a"].destroy()}handleSubmit(e){e.preventDefault();this.props.form.validateFields(function(){var e=c()(m.a.mark(function e(a,t){var n;return m.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return o["a"].error("\u586b\u5199\u4fe1\u606f\u6709\u8bef ",t),e.abrupt("return");case 3:return e.next=5,Object(b["l"])(t);case 5:n=e.sent,n&&(o["a"].success("\u606d\u559c\u60a8\uff0c\u767b\u5f55\u6210\u529f!",1e3),setTimeout(()=>d.a.push("/system-setting/customer-manager"),1e3));case 7:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}())}componentDidMount(){var e=this;return c()(m.a.mark(function a(){var t;return m.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(b["e"])();case 2:t=a.sent,t=t.map(e=>({key:e.id,value:e.roleName,roleId:e.id})),e.setState({userTypes:t});case 5:case"end":return a.stop()}},a)}))()}render(){var e=this.props.form.getFieldDecorator;return 0===this.state.userTypes.length?null:p.a.createElement(g["a"],{className:x.a.add_root},p.a.createElement(r["a"],{layout:"inline",style:{marginTop:"0.57rem"},onSubmit:this.handleSubmit},p.a.createElement(s["a"],{type:"flex",justify:"center",align:"middle",className:x.a.add},p.a.createElement(n["a"],{span:12},p.a.createElement("div",{className:"add__inner--container"},p.a.createElement(s["a"],{type:"flex",justify:"space-between"},p.a.createElement(n["a"],{span:12},p.a.createElement(r["a"].Item,{label:"\u767b\u5f55\u540d"},e("loginName",{rules:[{message:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d"}]})(p.a.createElement(w["a"],{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u540d",onChange:this.onLoginNameChange})))),p.a.createElement(n["a"],{span:12},p.a.createElement(r["a"].Item,{label:"\u59d3\u540d"},e("name",{rules:[{message:"\u8bf7\u8f93\u5165\u59d3\u540d"}]})(p.a.createElement(w["a"],{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",onChange:this.onUserNameChange}))))),p.a.createElement(s["a"],{type:"flex",justify:"space-between"},p.a.createElement(n["a"],{span:12,className:x.a.select_padding_left,style:{marginLeft:"-0.18rem"}},p.a.createElement(r["a"].Item,{label:"\u4eba\u5458\u7c7b\u578b"},e("roleId",{rules:[{message:"\u8bf7\u9009\u62e9\u4eba\u5458\u7c7b\u578b"}],initialValue:this.state.userTypes[0].roleId||"\u7ba1\u7406\u5458"})(p.a.createElement(E["a"],{options:this.state.userTypes,style:{width:"2rem"}})))),p.a.createElement(n["a"],{span:12},p.a.createElement(r["a"].Item,{label:"\u6027\u522b"},e("sex",{initialValue:"\u7537",rules:[{message:"\u8bf7\u9009\u62e9\u6027\u522b"}]})(p.a.createElement(E["a"],{options:N,style:{width:"2rem"}}))))),p.a.createElement(s["a"],{type:"flex",justify:"space-between"},p.a.createElement(n["a"],{span:23,className:x.a.text_areas},p.a.createElement(r["a"].Item,{label:"\u5907\u6ce8"},e("remark")(p.a.createElement(f["a"],{autoSize:{minRows:6,maxRows:8},onChange:this.onTipsChange}))))),p.a.createElement(s["a"],{type:"flex",justify:"center",style:{marginTop:"0.35rem"}},p.a.createElement(n["a"],{span:6},p.a.createElement(r["a"].Item,null,p.a.createElement(y["a"],{title:"\u786e\u8ba4",htmlType:"submit"}))),p.a.createElement(n["a"],{span:6,className:x.a.select_padding_left},p.a.createElement(r["a"].Item,null,p.a.createElement(y["a"],{title:"\u8fd4\u56de"})))))))))}}a["default"]=r["a"].create({name:"add_user"})(I)}}]);